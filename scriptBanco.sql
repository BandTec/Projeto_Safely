-- MySQL Script generated by MySQL Workbench
-- Mon May 20 10:26:25 2019
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `mydb` DEFAULT CHARACTER SET utf8 ;
USE `mydb` ;

-- -----------------------------------------------------
-- Table `mydb`.`EMPRESA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`EMPRESA` (
  `idEMPRESA` INT NOT NULL,
  `CNPJ` INT NULL,
  `NOME` VARCHAR(50) NULL,
  PRIMARY KEY (`idEMPRESA`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`CAIXA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`CAIXA` (
  `idCAIXA` INT NOT NULL,
  `HORA` TIME NULL,
  `ENTRADA` DOUBLE NULL,
  `DATA` DATETIME NULL,
  PRIMARY KEY (`idCAIXA`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`USUARIO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`USUARIO` (
  `idUSUARIO` INT NOT NULL,
  `EMAIL` VARCHAR(50) NULL,
  `SENHA` VARCHAR(12) NULL,
  `USERNAME` VARCHAR(15) NULL,
  `NOME` VARCHAR(50) NULL,
  PRIMARY KEY (`idUSUARIO`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`PROCESSADOR`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`PROCESSADOR` (
  `idPROCESSADOR` INT NOT NULL,
  `NOME` VARCHAR(50) NULL,
  `CLOCK` TIME NULL,
  `ULTIMA_MODIFICACAO` DATETIME NULL,
  PRIMARY KEY (`idPROCESSADOR`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`MEMORIA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`MEMORIA` (
  `idMEMORIA` INT NOT NULL,
  `TIPO` TINYINT NULL,
  `TAMANHO` INT NULL,
  `ULTIMA_MODIFICACAO` DATETIME NULL,
  PRIMARY KEY (`idMEMORIA`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`DISCO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`DISCO` (
  `idDISCO` INT NOT NULL,
  `NOME` VARCHAR(50) NULL,
  `TAMANHO` INT NULL,
  `ULTIMA_MODIFICACAO` DATETIME NULL,
  PRIMARY KEY (`idDISCO`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`MAQUINA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`MAQUINA` (
  `idMAQUINA` INT NOT NULL,
  `SISTEMA_OPERACIONAL` VARCHAR(45) NULL,
  `SERIAL_NUMBER` VARCHAR(45) NULL,
  `VERSAO` VARCHAR(50) NULL,
  `MODELO` VARCHAR(50) NULL,
  `DOMINIO` VARCHAR(50) NULL,
  `HOST_NAME` VARCHAR(60) NULL,
  `IPv4` VARCHAR(10) NULL,
  `IPv6` VARCHAR(45) NULL,
  `DESCRICAO` VARCHAR(100) NULL,
  `ULTIMA_ATUALIZACAO` VARCHAR(45) NULL,
  `PROCESSADOR_idPROCESSADOR` INT NOT NULL,
  `MEMORIA_idMEMORIA` INT NOT NULL,
  `DISCO_idDISCO` INT NOT NULL,
  PRIMARY KEY (`idMAQUINA`),
  INDEX `fk_MAQUINA_PROCESSADOR1_idx` (`PROCESSADOR_idPROCESSADOR` ASC) VISIBLE,
  INDEX `fk_MAQUINA_MEMORIA1_idx` (`MEMORIA_idMEMORIA` ASC) VISIBLE,
  INDEX `fk_MAQUINA_DISCO1_idx` (`DISCO_idDISCO` ASC) VISIBLE,
  CONSTRAINT `fk_MAQUINA_PROCESSADOR1`
    FOREIGN KEY (`PROCESSADOR_idPROCESSADOR`)
    REFERENCES `mydb`.`PROCESSADOR` (`idPROCESSADOR`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_MAQUINA_MEMORIA1`
    FOREIGN KEY (`MEMORIA_idMEMORIA`)
    REFERENCES `mydb`.`MEMORIA` (`idMEMORIA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_MAQUINA_DISCO1`
    FOREIGN KEY (`DISCO_idDISCO`)
    REFERENCES `mydb`.`DISCO` (`idDISCO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`FRANQUIA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`FRANQUIA` (
  `idFRANQUIA` INT NOT NULL,
  `MAQUINA_idMAQUINA` INT NOT NULL,
  `NOME` VARCHAR(50) NULL,
  `CAIXA_idCAIXA` INT NOT NULL,
  `USUARIO_idUSUARIO` INT NOT NULL,
  `EMPRESA_idEMPRESA` INT NOT NULL,
  PRIMARY KEY (`idFRANQUIA`, `MAQUINA_idMAQUINA`),
  INDEX `fk_FRANQUIA_CAIXA1_idx` (`CAIXA_idCAIXA` ASC) VISIBLE,
  INDEX `fk_FRANQUIA_USUARIO1_idx` (`USUARIO_idUSUARIO` ASC) VISIBLE,
  INDEX `fk_FRANQUIA_MAQUINA1_idx` (`MAQUINA_idMAQUINA` ASC) VISIBLE,
  INDEX `fk_FRANQUIA_EMPRESA1_idx` (`EMPRESA_idEMPRESA` ASC) VISIBLE,
  CONSTRAINT `fk_FRANQUIA_CAIXA1`
    FOREIGN KEY (`CAIXA_idCAIXA`)
    REFERENCES `mydb`.`CAIXA` (`idCAIXA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_FRANQUIA_USUARIO1`
    FOREIGN KEY (`USUARIO_idUSUARIO`)
    REFERENCES `mydb`.`USUARIO` (`idUSUARIO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_FRANQUIA_MAQUINA1`
    FOREIGN KEY (`MAQUINA_idMAQUINA`)
    REFERENCES `mydb`.`MAQUINA` (`idMAQUINA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_FRANQUIA_EMPRESA1`
    FOREIGN KEY (`EMPRESA_idEMPRESA`)
    REFERENCES `mydb`.`EMPRESA` (`idEMPRESA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`SERVICO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`SERVICO` (
  `idSERVICO` INT NOT NULL,
  `NOME` VARCHAR(50) NULL,
  `DESCRICAO` VARCHAR(100) NULL,
  `ESTADO` BIT NULL,
  `MAQUINA_idMAQUINA` INT NOT NULL,
  PRIMARY KEY (`idSERVICO`),
  INDEX `fk_SERVICO_MAQUINA1_idx` (`MAQUINA_idMAQUINA` ASC) VISIBLE,
  CONSTRAINT `fk_SERVICO_MAQUINA1`
    FOREIGN KEY (`MAQUINA_idMAQUINA`)
    REFERENCES `mydb`.`MAQUINA` (`idMAQUINA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`LEITURA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`LEITURA` (
  `idUSO_MAQUINA` INT NOT NULL,
  `DISPONIVEL` INT NULL,
  `VELOCIDADE_DE_LEITURA` INT NULL,
  `PROCESSOS` INT NULL,
  `INTERRUPCOES` INT NULL,
  `THREADS` INT NULL,
  `UTILIZADO` INT NULL,
  `MAQUINA_idMAQUINA` INT NOT NULL,
  `SERVICO_idSERVICO` INT NOT NULL,
  PRIMARY KEY (`idUSO_MAQUINA`),
  INDEX `fk_USO_COMP_MAQUINA_MAQUINA1_idx` (`MAQUINA_idMAQUINA` ASC) VISIBLE,
  INDEX `fk_USO_COMP_MAQUINA_SERVICO1_idx` (`SERVICO_idSERVICO` ASC) VISIBLE,
  CONSTRAINT `fk_USO_COMP_MAQUINA_MAQUINA1`
    FOREIGN KEY (`MAQUINA_idMAQUINA`)
    REFERENCES `mydb`.`MAQUINA` (`idMAQUINA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_USO_COMP_MAQUINA_SERVICO1`
    FOREIGN KEY (`SERVICO_idSERVICO`)
    REFERENCES `mydb`.`SERVICO` (`idSERVICO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`TEMPO_DE_ATIVIDADE`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`TEMPO_DE_ATIVIDADE` (
  `idTEMPO_DE_ATIVIDADE` INT NOT NULL,
  `DATA` DATETIME NULL,
  `HORA` TIME NULL,
  `MAQUINA_idMAQUINA` INT NOT NULL,
  PRIMARY KEY (`idTEMPO_DE_ATIVIDADE`),
  INDEX `fk_TEMPO_DE_ATIVIDADE_MAQUINA1_idx` (`MAQUINA_idMAQUINA` ASC) VISIBLE,
  CONSTRAINT `fk_TEMPO_DE_ATIVIDADE_MAQUINA1`
    FOREIGN KEY (`MAQUINA_idMAQUINA`)
    REFERENCES `mydb`.`MAQUINA` (`idMAQUINA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
